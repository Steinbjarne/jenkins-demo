#!/usr/bin/env bash

createSecrets() {
    local secretNames=( \
        docker_registry_StagingLocal_username \
        docker_registry_StagingLocal_password \
        docker_registry_StagingPublic_username \
        docker_registry_StagingPublic_password \
        docker_registry_ProductionLocal_username \
        docker_registry_ProductionLocal_password \
        docker_registry_ProductionPublic_username \
        docker_registry_ProductionPublic_password \
        artifactory-cleaner \
        artifactory_username \
        artifactory_password \
        crucible_username \
        crucible_password \
        nexus_username \
        nexus_password \
        dockerHub_username \
        dockerHub_password \
        artifactory_username \
        artifactory_password \
        jira_username \
        jira_password \
        aws_username \
        aws_password \
        docker-ca.eid-jenkins03.dmz.local \
        docker-cert.eid-jenkins03.dmz.local \
        docker-key.eid-jenkins03.dmz.local \
        docker-ca.eid-jenkins02.dmz.local \
        docker-cert.eid-jenkins02.dmz.local \
        docker-key.eid-jenkins02.dmz.local \
    )
    local secretName
    for secretName in ${secretNames[*]}; do
        echo $RANDOM | docker secret create ${secretName} -
    done

    ssh-keygen -t rsa -f /tmp/gitkey -N ""
    cat /tmp/gitkey | docker secret create ssh.github.com -
    cat /tmp/gitkey | docker secret create ssh.git.difi.local -
}

createSecrets
